(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-621f1727"],{"04f8":function(e,t,s){},"116c":function(e,t,s){"use strict";var a=s("3dfc"),n=s.n(a);n.a},1274:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"back-title"},[e.iosFlag?e._e():s("div",{staticClass:"bg"}),s("van-nav-bar",{attrs:{"left-text":e.title,"left-arrow":""},on:{"click-left":e.onClickLeft},scopedSlots:e._u([{key:"right",fn:function(){return[e._t("search")]},proxy:!0}],null,!0)})],1)},n=[],r=(s("6b54"),s("2397"),s("d4ec")),o=s("bee2"),i=s("262e"),c=s("99de"),u=s("7e84"),l=s("9ab4"),d=s("60a3"),f=s("4bb5"),w=s("dfaf");function p(e){var t=h();return function(){var s,a=Object(u["a"])(e);if(t){var n=Object(u["a"])(this).constructor;s=Reflect.construct(a,arguments,n)}else s=a.apply(this,arguments);return Object(c["a"])(this,s)}}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}d["a"].registerHooks(["beforeRouteEnter"]);var m=function(e){Object(i["a"])(s,e);var t=p(s);function s(){var e;return Object(r["a"])(this,s),e=t.apply(this,arguments),e.iosFlag=!1,e.isPageHide=!1,e}return Object(o["a"])(s,[{key:"created",value:function(){this.iosFlag=Object(w["a"])()}},{key:"beforeRouteEnter",value:function(e,t,s){console.log(t.path,e)}},{key:"onClickLeft",value:function(){var e=this.routes,t=e[e.length-2];e.pop(),t&&this.$router.push(t),this.set_history(e)}},{key:"reload",value:function(){this.isPageHide&&window.location.reload()}},{key:"unReload",value:function(){this.isPageHide=!0}}]),s}(d["c"]);Object(l["__decorate"])([Object(d["b"])()],m.prototype,"title",void 0),Object(l["__decorate"])([Object(f["a"])("history")],m.prototype,"routes",void 0),Object(l["__decorate"])([Object(f["b"])("SET_HISTORY")],m.prototype,"set_history",void 0),m=Object(l["__decorate"])([d["a"]],m);var b=m,v=b,g=(s("ff74"),s("2877")),y=Object(g["a"])(v,a,n,!1,null,"23555296",null);t["a"]=y.exports},"198d":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content"},[s("BackTitle",{attrs:{title:e.title}}),s("van-form",{attrs:{"validate-first":""},on:{submit:e.onSubmit}},[e.userInfo.userName?s("van-field",{staticClass:"inputBox",attrs:{name:"username",label:e.$t("mine.userName"),placeholder:e.$t("mine.inputUserName"),readonly:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}):e._e(),e.userInfo.userName?e._e():s("van-field",{staticClass:"inputBox",attrs:{autofocus:"",required:"",name:"username",label:e.$t("mine.newUsername"),placeholder:e.$t("mine.inputNewUsername")},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),s("van-field",{staticClass:"inputBox",attrs:{name:"oldPassword",type:"password",required:"",label:e.$t("mine.oldPassword"),placeholder:e.$t("mine.pleaseEnterTheOldPassword"),rules:[{required:!0,message:e.$t("mine.oldPasswordCannotBeEmpty")},{pattern:e.pattern,message:e.$t("login.passwordCannotBeLessThanEight")}]},model:{value:e.oldPassword,callback:function(t){e.oldPassword=t},expression:"oldPassword"}}),s("van-field",{staticClass:"inputBox",attrs:{name:"newPassword",type:e.paswdType1,required:"",label:e.$t("mine.newPassword"),placeholder:e.$t("mine.pleaseEnterTheNewPassword"),"right-icon":"eye",rules:[{required:!0,message:e.$t("mine.newPasswordCannotBeEmpty")},{pattern:e.pattern,message:e.$t("login.passwordCannotBeLessThanEight")},{validator:e.checkNewPassword,message:e.$t("mine.newNotShouldOld")}]},on:{"click-right-icon":e.showPassword},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}}),s("van-field",{staticClass:"inputBox",attrs:{name:"confirmPassword",required:"",type:e.paswdType2,label:e.$t("mine.confirmNewPassword"),placeholder:e.$t("mine.pleaseEnterNewPasswordAgain"),"right-icon":"eye",rules:[{required:!0,message:e.$t("mine.newPasswordCannotBeEmpty")},{pattern:e.pattern,message:e.$t("login.passwordCannotBeLessThanEight")},{validator:e.asyncValidator,message:e.$t("mine.inconsistentWithNewPassword")}]},on:{"click-right-icon":e.showPasswordAgain},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}}),s("div",{staticClass:"submitBtn"},[s("van-button",{attrs:{round:"",block:"","native-type":"submit"}},[e._v("\n                "+e._s(e.$t("mine.Submit"))+"\n            ")])],1)],1)],1)},n=[],r=(s("2397"),s("96cf"),s("1da1")),o=(s("6b54"),s("d4ec")),i=s("bee2"),c=s("262e"),u=s("99de"),l=s("7e84"),d=s("9ab4"),f=s("60a3"),w=s("2241"),p=function e(){Object(o["a"])(this,e),this.newPassword="",this.oldPassword="",this.updateTime="",this.userName=""},h=s("cc14"),m=s("1c55"),b=s.n(m),v=s("e7df"),g=s("1274"),y=function e(){Object(o["a"])(this,e)};function P(e){var t=k();return function(){var s,a=Object(l["a"])(e);if(t){var n=Object(l["a"])(this).constructor;s=Reflect.construct(a,arguments,n)}else s=a.apply(this,arguments);return Object(u["a"])(this,s)}}function k(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var O=function(e){Object(c["a"])(s,e);var t=P(s);function s(){var e;return Object(o["a"])(this,s),e=t.apply(this,arguments),e.userInfo={},e.username="",e.newPassword="",e.oldPassword="",e.confirmPassword="",e.paswdType1="password",e.paswdType2="password",e.pattern=/^.{8,}$/,e.changePasswordInfo=new p,e.userName=new y,e.title="",e}return Object(i["a"])(s,[{key:"created",value:function(){var e=localStorage.getItem("userInfo");this.title=this.$t("mine.setNewPassword").toString(),e&&(this.userInfo=JSON.parse(e),this.username=this.userInfo.userName,this.title=this.$t("mine.setNewPassword").toString());var t=localStorage.getItem("userName");t&&(this.username=t)}},{key:"onSubmit",value:function(e){var t=this,s=this;w["a"].confirm({title:this.$t("common.operationTips").toString(),message:this.$t("mine.updatePasswordTips").toString(),confirmButtonText:this.$t("common.confirm").toString(),cancelButtonText:this.$t("common.cancel").toString()}).then(Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:s.changePasswordInfo.userName=e.username,s.changePasswordInfo.oldPassword=b.a.sha3_256(e.oldPassword),s.changePasswordInfo.newPassword=b.a.sha3_256(e.newPassword),Object(h["R"])(s.changePasswordInfo).then((function(e){console.log(e),!0===e.success?(localStorage.removeItem("userInfo"),s.$router.push({path:"/login"})):40006===e.error.code&&Object(v["a"])(t.$t("mine.oldPasswordError").toString())}));case 4:case"end":return a.stop()}}),a)})))).catch((function(){}))}},{key:"checkNewPassword",value:function(){return this.newPassword!==this.oldPassword}},{key:"showPassword",value:function(){""===this.paswdType1?this.paswdType1="password":this.paswdType1=""}},{key:"showPasswordAgain",value:function(){""===this.paswdType2?this.paswdType2="password":this.paswdType2=""}},{key:"asyncValidator",value:function(){return this.confirmPassword===this.newPassword}}]),s}(f["c"]);O=Object(d["__decorate"])([Object(f["a"])({components:{BackTitle:g["a"]}})],O);var $=O,j=$,_=(s("116c"),s("2877")),T=Object(_["a"])(j,a,n,!1,null,"c9db64de",null);t["default"]=T.exports},"3dfc":function(e,t,s){},ff74:function(e,t,s){"use strict";var a=s("04f8"),n=s.n(a);n.a}}]);
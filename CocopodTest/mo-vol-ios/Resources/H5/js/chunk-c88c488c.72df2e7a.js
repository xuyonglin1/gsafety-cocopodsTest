(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c88c488c"],{"04f8":function(t,e,n){},1274:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"back-title"},[t.iosFlag?t._e():n("div",{staticClass:"bg"}),n("van-nav-bar",{attrs:{"left-text":t.title,"left-arrow":""},on:{"click-left":t.onClickLeft},scopedSlots:t._u([{key:"right",fn:function(){return[t._t("search")]},proxy:!0}],null,!0)})],1)},a=[],r=(n("6b54"),n("2397"),n("d4ec")),s=n("bee2"),c=n("262e"),o=n("99de"),u=n("7e84"),l=n("9ab4"),f=n("60a3"),h=n("4bb5"),d=n("dfaf");function p(t){var e=v();return function(){var n,i=Object(u["a"])(t);if(e){var a=Object(u["a"])(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(o["a"])(this,n)}}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}f["a"].registerHooks(["beforeRouteEnter"]);var b=function(t){Object(c["a"])(n,t);var e=p(n);function n(){var t;return Object(r["a"])(this,n),t=e.apply(this,arguments),t.iosFlag=!1,t.isPageHide=!1,t}return Object(s["a"])(n,[{key:"created",value:function(){this.iosFlag=Object(d["a"])()}},{key:"beforeRouteEnter",value:function(t,e,n){console.log(e.path,t)}},{key:"onClickLeft",value:function(){var t=this.routes,e=t[t.length-2];t.pop(),e&&this.$router.push(e),this.set_history(t)}},{key:"reload",value:function(){this.isPageHide&&window.location.reload()}},{key:"unReload",value:function(){this.isPageHide=!0}}]),n}(f["c"]);Object(l["__decorate"])([Object(f["b"])()],b.prototype,"title",void 0),Object(l["__decorate"])([Object(h["a"])("history")],b.prototype,"routes",void 0),Object(l["__decorate"])([Object(h["b"])("SET_HISTORY")],b.prototype,"set_history",void 0),b=Object(l["__decorate"])([f["a"]],b);var m=b,g=m,y=(n("ff74"),n("2877")),k=Object(y["a"])(g,i,a,!1,null,"23555296",null);e["a"]=k.exports},"48da":function(t,e,n){},"65c8":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-cell",{staticClass:"item",on:{click:t.openDetail}},[n("div",{staticClass:"equi-card"},[n("div",{staticClass:"equi-info"},[n("div",{staticClass:"equi-info-tit"},[t._v(t._s(t.$t("equipment.name")))]),n("div",{staticClass:"equi-info-text"},[t._v(t._s(t.equipment.equipmentName))])]),n("div",{staticClass:"equi-info"},[n("div",{staticClass:"equi-info-tit"},[t._v(t._s(t.$t("equipment.count")))]),n("div",{staticClass:"equi-info-text"},[t._v(t._s(t.equipment.assignNum))])])])])},a=[],r=(n("6b54"),n("2397"),n("d4ec")),s=n("bee2"),c=n("262e"),o=n("99de"),u=n("7e84"),l=n("9ab4"),f=n("60a3");function h(t){var e=d();return function(){var n,i=Object(u["a"])(t);if(e){var a=Object(u["a"])(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(o["a"])(this,n)}}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var p=function(t){Object(c["a"])(n,t);var e=h(n);function n(){return Object(r["a"])(this,n),e.apply(this,arguments)}return Object(s["a"])(n,[{key:"openDetail",value:function(){this.$emit("openDetail")}}]),n}(f["c"]);Object(l["__decorate"])([Object(f["b"])()],p.prototype,"equipment",void 0),p=Object(l["__decorate"])([f["a"]],p);var v=p,b=v,m=(n("9a6a"),n("2877")),g=Object(m["a"])(b,i,a,!1,null,"a4fdef4a",null);e["a"]=g.exports},"9a6a":function(t,e,n){"use strict";var i=n("b805"),a=n.n(i);a.a},b805:function(t,e,n){},cc6b:function(t,e,n){"use strict";var i=n("48da"),a=n.n(i);a.a},ea16:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("back-title",{attrs:{title:t.$t("home.myEquipment")},scopedSlots:t._u([{key:"search",fn:function(){return[n("van-search",{staticClass:"search",attrs:{shape:"round",placeholder:t.$t("common.key"),background:"#15AD8C"},on:{click:t.onSearchClick}})]},proxy:!0}])}),n("div",{staticClass:"tab"},[n("van-tabs",{attrs:{"title-active-color":"#0A886D",color:"#0A886D"},on:{click:t.onClick},model:{value:t.selectedTabbar,callback:function(e){t.selectedTabbar=e},expression:"selectedTabbar"}},[t.noData?n("div",{staticClass:"no-data"},[t._v(t._s(t.$t("common.noData")))]):t._e(),n("van-tab",{attrs:{title:t.$t("equipment.selfRetainingEquipment")}},[n("van-pull-refresh",{on:{refresh:function(e){return t.onRefresh(0)}},model:{value:t.refreshing,callback:function(e){t.refreshing=e},expression:"refreshing"}},[n("van-list",{attrs:{offset:"50",finished:t.finished,"finished-text":t.finishedText},on:{load:function(e){return t.onLoad(0)}},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.equipmentList,(function(e){return n("EquipmentItem",{key:e.id,attrs:{equipment:e},on:{openDetail:function(n){return t.openDetail(e)}}})})),1)],1)],1),n("van-tab",{attrs:{title:t.$t("equipment.toBeReturned")}},[n("van-pull-refresh",{on:{refresh:function(e){return t.onRefresh(1)}},model:{value:t.refreshing,callback:function(e){t.refreshing=e},expression:"refreshing"}},[n("van-list",{attrs:{offset:"50",finished:t.finished,"finished-text":t.finishedText},on:{load:function(e){return t.onLoad(1)}},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.equipmentList,(function(e){return n("EquipmentItem",{key:e.id,attrs:{equipment:e},on:{openDetail:function(n){return t.openDetail(e)}}})})),1)],1)],1)],1)],1)],1)},a=[],r=(n("2397"),n("96cf"),n("1da1")),s=(n("6b54"),n("d4ec")),c=n("bee2"),o=n("262e"),u=n("99de"),l=n("7e84"),f=n("9ab4"),h=n("60a3"),d=n("fa5b7"),p=n("cc14"),v=n("1274"),b=n("2ef0"),m=n("65c8");function g(t){var e=y();return function(){var n,i=Object(l["a"])(t);if(e){var a=Object(l["a"])(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(u["a"])(this,n)}}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var k=function(t){Object(o["a"])(n,t);var e=g(n);function n(){var t;return Object(s["a"])(this,n),t=e.apply(this,arguments),t.page=1,t.pageSize=5,t.loading=!1,t.finished=!1,t.finishedText="",t.volunteerId="",t.refreshing=!1,t.equipmentList=[],t.equipmentParam=new d["a"](""),t.noData=!1,t.index=0,t.selectedTabbar=0,t.click=Object(b["debounce"])(t._onClick,500,{leading:!0,trailing:!1}),t}return Object(c["a"])(n,[{key:"isIos",value:function(){var t=navigator.userAgent;return t.indexOf("iPhone")>-1||t.indexOf("iOS")>-1}},{key:"created",value:function(){var t=JSON.parse(localStorage.getItem("userInfo"));t&&(this.volunteerId=t.id,this.equipmentParam.assignVolunteerId=t.id)}},{key:"mounted",value:function(){var t=localStorage.getItem("myEquipmentStatus");t&&(this.selectedTabbar=parseInt(t,10)),this.onClick(this.selectedTabbar)}},{key:"openDetail",value:function(t){this.$router.push({path:"/equipment-detail",query:{data:t}})}},{key:"onSearchClick",value:function(){this.$router.push({path:"/search",query:{searchType:"Eq",navbar:this.index.toString()}})}},{key:"onClickLeft",value:function(){this.$router.go(-1)}},{key:"onClick",value:function(t){this.index=t,this.click()}},{key:"_onClick",value:function(){localStorage.setItem("myEquipmentStatus",this.index.toString()),this.page=1,this.equipmentList=[],this.finished=!0,this.onLoad(this.index)}},{key:"onLoad",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.refreshing&&(this.page=1,this.equipmentList=[],this.refreshing=!1),this.noData=!1,this.finishedText="",0!==e){t.next=15;break}return this.equipmentParam.status="1",t.next=7,Object(p["E"])(this.equipmentParam,this.page,this.pageSize);case 7:n=t.sent,this.equipmentList=this.equipmentList.concat(n.data),this.loading=!1,this.page++,this.finished=!1,n.data.length<this.pageSize&&(this.finished=!0),t.next=24;break;case 15:return this.equipmentParam.status="2",t.next=18,Object(p["E"])(this.equipmentParam,this.page,this.pageSize);case 18:i=t.sent,this.equipmentList=this.equipmentList.concat(i.data),this.page++,this.loading=!1,this.finished=!1,i.data.length<this.pageSize&&(this.finished=!0);case 24:this.finishedText="沒有更多了",0===this.equipmentList.length&&(this.finishedText="",this.noData=!0);case 26:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"onRefresh",value:function(t){this.finished=!1,this.page=1,this.loading=!0,this.onLoad(t)}}]),n}(h["c"]);k=Object(f["__decorate"])([Object(h["a"])({components:{BackTitle:v["a"],EquipmentItem:m["a"]}})],k);var q=k,O=q,_=(n("cc6b"),n("2877")),j=Object(_["a"])(O,i,a,!1,null,"be7f4c14",null);e["default"]=j.exports},fa5b7:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("d4ec"),a=function t(e){Object(i["a"])(this,t),this.volunteerId=e,this.assignVolunteerId=""}},ff74:function(t,e,n){"use strict";var i=n("04f8"),a=n.n(i);a.a}}]);
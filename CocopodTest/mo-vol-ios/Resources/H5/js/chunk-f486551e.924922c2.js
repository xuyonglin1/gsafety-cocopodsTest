(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f486551e"],{"04f8":function(t,e,n){},1274:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"back-title"},[t.iosFlag?t._e():n("div",{staticClass:"bg"}),n("van-nav-bar",{attrs:{"left-text":t.title,"left-arrow":""},on:{"click-left":t.onClickLeft},scopedSlots:t._u([{key:"right",fn:function(){return[t._t("search")]},proxy:!0}],null,!0)})],1)},a=[],s=(n("6b54"),n("2397"),n("d4ec")),r=n("bee2"),c=n("262e"),o=n("99de"),u=n("7e84"),l=n("9ab4"),f=n("60a3"),d=n("4bb5"),h=n("dfaf");function v(t){var e=p();return function(){var n,i=Object(u["a"])(t);if(e){var a=Object(u["a"])(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(o["a"])(this,n)}}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}f["a"].registerHooks(["beforeRouteEnter"]);var g=function(t){Object(c["a"])(n,t);var e=v(n);function n(){var t;return Object(s["a"])(this,n),t=e.apply(this,arguments),t.iosFlag=!1,t.isPageHide=!1,t}return Object(r["a"])(n,[{key:"created",value:function(){this.iosFlag=Object(h["a"])()}},{key:"beforeRouteEnter",value:function(t,e,n){console.log(e.path,t)}},{key:"onClickLeft",value:function(){var t=this.routes,e=t[t.length-2];t.pop(),e&&this.$router.push(e),this.set_history(t)}},{key:"reload",value:function(){this.isPageHide&&window.location.reload()}},{key:"unReload",value:function(){this.isPageHide=!0}}]),n}(f["c"]);Object(l["__decorate"])([Object(f["b"])()],g.prototype,"title",void 0),Object(l["__decorate"])([Object(d["a"])("history")],g.prototype,"routes",void 0),Object(l["__decorate"])([Object(d["b"])("SET_HISTORY")],g.prototype,"set_history",void 0),g=Object(l["__decorate"])([f["a"]],g);var b=g,_=b,y=(n("ff74"),n("2877")),k=Object(y["a"])(_,i,a,!1,null,"23555296",null);e["a"]=k.exports},"1ebe":function(t,e,n){"use strict";var i=n("ef6d"),a=n.n(i);a.a},c897:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("back-title",{attrs:{title:t.title},scopedSlots:t._u([{key:"search",fn:function(){return[n("van-search",{staticClass:"search",attrs:{shape:"round",placeholder:t.$t("common.key"),background:"#15AD8C"},on:{click:t.onSearchClick}})]},proxy:!0}])}),n("div",{staticClass:"tab"},[n("van-tabs",{attrs:{"title-active-color":"#0A886D",color:"#0A886D"},on:{click:t.onClick},model:{value:t.selectedStatus,callback:function(e){t.selectedStatus=e},expression:"selectedStatus"}},[t.noData?n("div",{staticClass:"no-data"},[t._v(t._s(t.$t("common.noData")))]):t._e(),n("van-tab",{attrs:{title:t.$t("insurance.underInsurance")}},[n("van-pull-refresh",{on:{refresh:function(e){return t.onRefresh(0)}},model:{value:t.refreshing,callback:function(e){t.refreshing=e},expression:"refreshing"}},[n("van-list",{attrs:{offset:"50",finished:t.finished,"finished-text":t.finishedText},on:{load:function(e){return t.onLoad(0)}},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.insuranceList,(function(e){return n("van-cell",{key:e.id,staticClass:"item",on:{click:function(n){return t.openDetail(e)}}},[n("div",{staticClass:"insure-card"},[n("div",{staticClass:"insure-Linfo"},[n("div",{staticClass:"insure-info-tit"},[t._v(t._s(e.name))]),n("div",{staticClass:"insure-info-text"},[n("span",[t._v(t._s(t.$t("insurance.agencyName"))+"：")]),t._v("\n                    "+t._s(e.agencyName)+"\n                  ")]),n("div",{staticClass:"insure-info-text"},[t._v("\n                    "+t._s(t.$t("insurance.insurancePeriod"))+"： "+t._s(t._f("dateformat")(e.insuranceStartTime))+" "+t._s(t.$t("insurance.to"))+" "+t._s(t._f("dateformat")(e.insuranceEndTime))+"\n                  ")])]),n("div",{staticClass:"insure-Rinfo"},[n("div",{staticClass:"insure-info-text"},[t._v(" "+t._s(t.$t("insurance.guaranteed")))]),n("div",{staticClass:"insure-info-tit"},[n("span",[t._v(t._s(t.safeday(e.insuranceStartTime)))]),t._v(t._s(t.$t("insurance.day"))+"\n                  ")])])])])})),1)],1)],1),n("van-tab",{attrs:{title:t.$t("insurance.Expired")}},[n("van-pull-refresh",{on:{refresh:function(e){return t.onRefresh(1)}},model:{value:t.refreshing,callback:function(e){t.refreshing=e},expression:"refreshing"}},[n("van-list",{attrs:{offset:"50",finished:t.finished,"finished-text":t.finishedText},on:{load:function(e){return t.onLoad(1)}},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.insuranceList,(function(e){return n("van-cell",{key:e.id,staticClass:"item",on:{click:function(n){return t.openDetail(e)}}},[n("div",{staticClass:"insure-card"},[n("div",{staticClass:"insure-Linfo"},[n("div",{staticClass:"insure-info-tit"},[t._v(t._s(e.name))]),n("div",{staticClass:"insure-info-text"},[n("span",[t._v(t._s(t.$t("insurance.agencyName"))+"：")]),t._v("\n                    "+t._s(e.agencyName)+"\n                  ")]),n("div",{staticClass:"insure-info-text"},[t._v("\n                    "+t._s(t.$t("insurance.insurancePeriod"))+"： "+t._s(t._f("date")(e.insuranceStartTime))+"  "+t._s(t.$t("insurance.to"))+" "+t._s(t._f("date")(e.insuranceEndTime))+"\n                  ")])])])])})),1)],1)],1)],1)],1)],1)},a=[],s=(n("2397"),n("96cf"),n("1da1")),r=(n("6b54"),n("d4ec")),c=n("bee2"),o=n("262e"),u=n("99de"),l=n("7e84"),f=n("9ab4"),d=n("60a3"),h=n("cc14"),v=function t(e,n){Object(r["a"])(this,t),this.volunteerId=e,this.status=n},p=n("1274"),g=n("2ef0");function b(t){var e=_();return function(){var n,i=Object(l["a"])(t);if(e){var a=Object(l["a"])(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Object(u["a"])(this,n)}}function _(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var y=function(t){Object(o["a"])(n,t);var e=b(n);function n(){var t;return Object(r["a"])(this,n),t=e.apply(this,arguments),t.title="我的保險",t.insuranceList=[],t.page=1,t.pageSize=5,t.loading=!1,t.finished=!1,t.volunteerId="",t.finishedText="",t.insuranceParam=new v("",""),t.currentTime=(new Date).getTime(),t.refreshing=!1,t.noData=!1,t.index=0,t.selectedStatus=0,t.click=Object(g["debounce"])(t._onClick,500,{leading:!0,trailing:!1}),t}return Object(c["a"])(n,[{key:"created",value:function(){var t=JSON.parse(localStorage.getItem("userInfo"));t&&(this.volunteerId=t.id,this.insuranceParam.volunteerId=t.id)}},{key:"mounted",value:function(){var t=localStorage.getItem("myInsuranceStatus");t&&(this.selectedStatus=parseInt(t,10)),this.onClick(this.selectedStatus)}},{key:"onClickLeft",value:function(){this.$router.go(-1)}},{key:"onSearchClick",value:function(){this.$router.push({path:"/search",query:{searchType:"I",navbar:this.index.toString()}})}},{key:"openDetail",value:function(t){this.$router.push({path:"/insurance-detail",query:{id:t.id}})}},{key:"onClick",value:function(t){this.index=t,this.click()}},{key:"_onClick",value:function(){localStorage.setItem("myInsuranceStatus",this.index.toString()),this.page=1,this.insuranceList=[],this.finished=!0,this.loading=!0,this.onLoad(this.index)}},{key:"onLoad",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.refreshing&&(this.page=1,this.insuranceList=[],this.refreshing=!1),this.noData=!1,this.finishedText="",this.insuranceParam.status=0===e?1:2,t.next=6,Object(h["z"])(this.insuranceParam,this.page,this.pageSize);case 6:n=t.sent,this.insuranceList=this.insuranceList.concat(n.data),this.page++,this.loading=!1,this.finished=!1,n.data.length<this.pageSize&&(this.finished=!0),this.finishedText="没有更多了",0===this.insuranceList.length&&(this.finishedText="",this.noData=!0);case 14:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"safeday",value:function(t){return this.safeDays=Math.floor((this.currentTime-t)/864e5)}},{key:"onRefresh",value:function(t){this.finished=!1,this.page=1,this.loading=!0,this.onLoad(t)}}]),n}(d["c"]);y=Object(f["__decorate"])([Object(d["a"])({components:{BackTitle:p["a"]}})],y);var k=y,m=k,x=(n("1ebe"),n("2877")),C=Object(x["a"])(m,i,a,!1,null,"99a57f82",null);e["default"]=C.exports},ef6d:function(t,e,n){},ff74:function(t,e,n){"use strict";var i=n("04f8"),a=n.n(i);a.a}}]);